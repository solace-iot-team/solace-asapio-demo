



# TEST
# run interactive
#  docker exec -it solace-asapio-demo-v0.1.6 /bin/bash
#docker run -d -it --name $CONTAINER_NAME -p 1882:1882 \
#  -e SOLACE_SAP_DEMO_MQTT_BROKER_HOST=$_SOLACE_SAP_DEMO_MQTT_BROKER_HOST \
#  -e SOLACE_SAP_DEMO_MQTT_BROKER_PORT=$_SOLACE_SAP_DEMO_MQTT_BROKER_PORT \
#  -e SOLACE_SAP_DEMO_MQTT_BROKER_USER=$_SOLACE_SAP_DEMO_MQTT_BROKER_USER \
#  -e SOLACE_SAP_DEMO_MQTT_BROKER_PASSWORD=$_SOLACE_SAP_DEMO_MQTT_BROKER_PASSWORD \
#  -e SOLACE_SAP_DEMO_MQTT_CLIENT_ID=$_SOLACE_SAP_DEMO_MQTT_CLIENT_ID \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_BASE_PATH=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_BASE_PATH \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_VPN=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_VPN \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_VIRTUAL_ROUTER=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_VIRTUAL_ROUTER \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_USER=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_USER \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_PASSWORD=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_PASSWORD \
#  -e SOLACE_SAP_DEMO_BROKER_SEMPV2_IS_SOLACE_CLOUD=$_SOLACE_SAP_DEMO_BROKER_SEMPV2_IS_SOLACE_CLOUD \
#  $IMAGE_TAG /bin/bash

# The end.


# delete container if already running
docker rm -f $IMAGE_NAME-latest

# Run Docker image interactive

docker run -d -it --name $IMAGE_NAME-latest -p 1882:1882 \
  -e SOLACE_SAP_DEMO_MQTT_BROKER_HOST=$_SOLACE_SAP_DEMO_MQTT_BROKER_HOST \
  -e SOLACE_SAP_DEMO_MQTT_BROKER_PORT=$_SOLACE_SAP_DEMO_MQTT_BROKER_PORT \
  -e SOLACE_SAP_DEMO_MQTT_BROKER_USER=$_SOLACE_SAP_DEMO_MQTT_BROKER_USER \
  -e SOLACE_SAP_DEMO_MQTT_BROKER_PASSWORD=$_SOLACE_SAP_DEMO_MQTT_BROKER_PASSWORD \
  -e SOLACE_SAP_DEMO_MQTT_CLIENT_ID=$_SOLACE_SAP_DEMO_MQTT_CLIENT_ID \
  $REPO/$IMAGE_NAME:latest /bin/bash

code=$?

echo ""
echo "===================================================================="
echo ""

if [ $code -eq 0 ]
then
  echo "docker exec -it $IMAGE_NAME-latest /bin/bash"
  echo "UI: http://127.0.0.1/ui"
else
  echo "ERROR:" $code
fi

echo ""
echo "===================================================================="
echo ""

# The end.
